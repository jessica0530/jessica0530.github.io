---
layout: post
title: Solr基础介绍
categories: [solr]
description: Solr基础介绍
keywords: solr
---

# Solr架构

![solr-arch1](/images/posts/solr-arch1.png)

![solr-arch2](/images/posts/solr-arch2.png)

![solr-lucene-in-core](/images/posts/solr-lucene-in-core.png)





# Solr基础内容

## Solr Core

core是单一的索引数据,索引又是由多个Document组成的

添加core

卸载core

重新加载core

core热交换

## Solr索引

### Lucene索引原理



## Solr分词

### 分词的基本介绍

### 分词器

### 中文分词器



## Solr查询

### solr查询相关度

### Solr排序

## Solr Facet

## Solr Group分组

### group的分页与排序



## Solr 高级查询

### 深度分页

### 自定义排序

### solr相关性评分



## SolrCloud





# Solr vs Elasticsearch



它们都是围绕核心底层搜索库[Lucene](https://lucene.apache.org/)构建的，但是它们在功能（例如可伸缩性，易于部署以及社区存在等）方面有所不同。在静态数据方面，Solr具有更多优势，这是因为它具有高速缓存，并且能够使用未反转的阅读器进行构面和排序（例如电子商务）。另一方面，Elasticsearch更适合-并且更经常使用-时间序列数据用例，例如[日志分析](https://sematext.com/logsene)用例。 

#### Solr vs. Elasticsearch引擎性能和可伸缩性基准**

在性能方面，Solr和Elasticsearch大致相同。我们之所以说“大致”，是因为没有人做过良好，全面和公正的基准测试。对于95％的用例，就性能而言，这两种选择都是不错的选择，剩下的5％需要用其特定的数据和特定的访问模式来测试这两种解决方案。

就是说，如果您的数据大部分为静态数据，并且需要全精度的数据分析和超快的性能，则应该考虑Solr。 

#### **年龄，成熟度和搜索趋势**

在2010年左右，Elasticsearch成为市场上的另一种选择。那时，它远没有Solr稳定，没有Solr的功能深度，没有思想份额，品牌等等。但是它还有其他一些优点：Elasticsearch尚处于起步阶段，它基于更现代的原理，针对更现代的用例，并且旨在简化大索引和高查询率的处理。 

Elasticsearch不再是新事物，但它仍然是闪亮的。它缩小了Solr的功能差距，在某些情况下甚至超过了。当然，它周围还有更多嗡嗡声。至此，两个项目都非常成熟。两者都有很多功能。两者都是稳定的。但是，我们不得不说，我们确实看到了更多有问题的Elasticsearch集群，但是我们认为这主要是由于以下几个原因：

- 传统上，Elasticsearch较容易上手，它使任何人都可以开箱即用地使用它，而无需过多地了解其工作原理。上手很棒，但是当数据/集群增长时很危险。
- Elasticsearch易于扩展，吸引了一些用例，这些用例需要具有更多数据和更多节点的更大集群。
- Elasticsearch更具动态性–数据可以随节点的移动而轻松地在集群中移动，这会影响集群的稳定性和性能。
- 传统上，Solr更侧重于文本搜索，而Elasticsearch的目标也是处理分析类型的查询，而这种查询是有代价的。

#### **缓存**